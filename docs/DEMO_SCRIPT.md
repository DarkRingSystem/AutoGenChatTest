# 文件上传功能演示脚本

## 🎬 演示场景

### 场景 1: 单个 PDF 文件分析

**演示目标**: 展示基本的文件上传和分析功能

**步骤**:

1. **打开应用**
   - 访问 http://localhost:3002
   - 选择"普通对话"模式

2. **上传文件**
   - 拖拽一个 PDF 文件到上传区域
   - 或点击上传区域选择文件
   - 观察：文件出现在列表中，显示文件名和大小

3. **解析文件**
   - 点击"开始解析"按钮
   - 观察：
     - 进度条出现
     - 输入框提示变为"正在解析文件，请稍候..."
     - 输入框被禁用
   - 等待解析完成
   - 观察：
     - 文件图标变为 ✅
     - 显示"已解析"标签
     - 输入框提示变为"已加载 1 个文件，输入问题..."
     - 输入框恢复可用

4. **提问**
   - 输入："总结一下这份文档的主要内容"
   - 按 Enter 发送
   - 观察：
     - 用户消息显示"📎 包含 1 个文件"
     - 智能体基于文件内容回答

**预期效果**:
- ✅ 文件成功上传和解析
- ✅ 智能体能够理解文件内容
- ✅ 回答与文件内容相关

---

### 场景 2: 多文件对比分析

**演示目标**: 展示多文件上传和批量解析功能

**步骤**:

1. **上传多个文件**
   - 同时选择 3 个文件（PDF, DOCX, XLSX）
   - 或逐个拖拽上传
   - 观察：文件列表显示"已选择 3 个文件"

2. **批量解析**
   - 点击"开始解析"按钮
   - 观察：所有文件同时解析
   - 等待完成
   - 观察：所有文件都显示 ✅ 图标

3. **对比提问**
   - 输入："对比这三个文件的内容，找出共同点和差异"
   - 发送
   - 观察：
     - 用户消息显示"📎 包含 3 个文件"
     - 智能体对比分析所有文件

**预期效果**:
- ✅ 多文件并发解析
- ✅ 智能体能够对比多个文件
- ✅ 回答涉及所有文件内容

---

### 场景 3: 文件大小限制演示

**演示目标**: 展示文件大小校验功能

**步骤**:

1. **尝试上传大文件**
   - 选择一个超过 100MB 的文件
   - 观察：立即显示错误提示
   - 错误消息："文件 xxx 超过 100MB 限制"
   - 文件不会被添加到列表

2. **上传正常文件**
   - 选择一个小于 100MB 的文件
   - 观察：文件成功添加到列表

**预期效果**:
- ✅ 前端立即校验文件大小
- ✅ 超大文件被拒绝
- ✅ 正常文件可以上传

---

### 场景 4: 文件数量限制演示

**演示目标**: 展示文件数量校验功能

**步骤**:

1. **尝试上传过多文件**
   - 同时选择 11 个文件
   - 观察：显示错误提示
   - 错误消息："最多只能上传 10 个文件"

2. **上传正常数量**
   - 选择 10 个文件
   - 观察：所有文件成功添加

**预期效果**:
- ✅ 前端限制文件数量
- ✅ 超出限制被拒绝
- ✅ 10 个以内可以上传

---

### 场景 5: 不支持格式演示

**演示目标**: 展示文件格式校验功能

**步骤**:

1. **尝试上传不支持的格式**
   - 选择一个 .txt 文件
   - 观察：显示错误提示
   - 错误消息："不支持的文件格式: xxx.txt"

2. **上传支持的格式**
   - 选择一个 .pdf 文件
   - 观察：文件成功添加

**预期效果**:
- ✅ 前端校验文件格式
- ✅ 不支持的格式被拒绝
- ✅ 支持的格式可以上传

---

### 场景 6: 解析失败处理演示

**演示目标**: 展示解析失败的错误处理

**步骤**:

1. **上传可能失败的文件**
   - 上传一个损坏的 PDF 或空文件
   - 点击"开始解析"

2. **观察失败处理**
   - 失败的文件显示 ❌ 图标
   - 显示"解析失败"标签
   - 显示错误信息

3. **继续使用成功的文件**
   - 如果有其他文件解析成功
   - 仍然可以基于成功的文件提问

**预期效果**:
- ✅ 失败文件有明确标识
- ✅ 显示错误信息
- ✅ 不影响其他文件使用

---

### 场景 7: 主题切换演示

**演示目标**: 展示深色/浅色主题适配

**步骤**:

1. **深色主题**
   - 默认深色主题
   - 观察文件上传区域样式

2. **切换到浅色主题**
   - 点击右上角主题切换按钮
   - 观察：
     - 文件上传区域样式变化
     - 文件列表样式变化
     - 所有元素清晰可读

3. **切换回深色主题**
   - 再次点击主题切换按钮
   - 观察样式恢复

**预期效果**:
- ✅ 两种主题都适配良好
- ✅ 样式过渡平滑
- ✅ 所有元素清晰可读

---

### 场景 8: 测试用例智能体模式演示

**演示目标**: 展示在团队智能体模式下的文件上传

**步骤**:

1. **选择测试用例智能体模式**
   - 返回模式选择页面
   - 选择"测试用例智能体"

2. **上传并解析文件**
   - 上传一个技术文档
   - 解析完成

3. **提问**
   - 输入："基于这个文档，帮我生成测试用例"
   - 观察：
     - 多个智能体协作
     - 每个智能体基于文件内容工作
     - 生成的测试用例与文档相关

**预期效果**:
- ✅ 文件上传功能在团队模式下正常
- ✅ 所有智能体都能访问文件内容
- ✅ 团队协作基于文件内容

---

## 🎯 演示要点

### 1. 强调的功能点

- ✅ **双重校验**: 前后端都校验文件大小和数量
- ✅ **实时反馈**: 解析过程中的状态显示
- ✅ **禁用控制**: 解析期间禁用输入，防止误操作
- ✅ **上下文集成**: 文件内容自动作为上下文
- ✅ **视觉标记**: 用户消息显示文件标记
- ✅ **错误处理**: 完善的错误提示
- ✅ **主题适配**: 深色/浅色主题支持

### 2. 用户体验亮点

- 🎨 **拖拽上传**: 直观的交互方式
- 📊 **进度显示**: 清晰的解析进度
- ✅ **状态图标**: 一目了然的文件状态
- 🎯 **智能提示**: 根据状态变化的输入框提示
- 🔄 **平滑动画**: 流畅的过渡效果
- 📱 **响应式**: 适配不同屏幕尺寸

### 3. 技术亮点

- ⚡ **并发解析**: 多文件同时处理
- 🔒 **安全校验**: 前后端双重验证
- 🎭 **状态管理**: 完善的状态控制
- 🌈 **主题系统**: 深色/浅色主题
- 📦 **组件化**: 可复用的文件上传组件

---

## 📝 演示脚本

### 开场白（30 秒）

"大家好！今天我要演示一个强大的文件上传和分析功能。这个功能可以让你上传各种文档，系统会自动解析文件内容，然后你可以基于这些文件向智能体提问。让我们开始吧！"

### 功能演示（3 分钟）

1. **上传文件**（30 秒）
   "首先，我们可以通过拖拽或点击的方式上传文件。系统支持 PDF、图片、Office 文档等多种格式。"

2. **解析文件**（1 分钟）
   "上传后，点击'开始解析'按钮。注意看，系统会显示解析进度，并且输入框会被禁用，提示'正在解析文件，请稍候...'。这样可以防止用户在解析完成前发送消息。"

3. **提问**（1 分钟）
   "解析完成后，输入框提示变为'已加载 X 个文件，输入问题...'。现在我们可以提问了。注意看用户消息上的文件标记，表示这条消息包含了文件上下文。"

4. **查看回复**（30 秒）
   "智能体的回复是基于文件内容的，非常准确和相关。这就是文件上下文集成的效果。"

### 限制演示（1 分钟）

"系统有完善的限制和校验机制："
- "单个文件最大 100MB"
- "最多 10 个文件"
- "只支持特定格式"
- "前后端双重校验，确保安全"

### 结束语（30 秒）

"这就是文件上传和分析功能的完整演示。它不仅功能强大，而且用户体验优秀，有完善的错误处理和状态反馈。谢谢大家！"

---

## 🎥 录制建议

### 录制设置
- 分辨率: 1920x1080
- 帧率: 60fps
- 录制区域: 浏览器窗口
- 音频: 清晰的旁白

### 录制流程
1. 准备好测试文件
2. 清空浏览器缓存
3. 重启服务确保干净状态
4. 按照演示脚本录制
5. 后期添加字幕和标注

### 后期处理
- 添加字幕说明关键功能
- 标注重要的 UI 元素
- 加速解析等待时间
- 添加背景音乐

---

## ✅ 演示检查清单

演示前确保：
- [ ] 后端服务正常运行
- [ ] 前端服务正常运行
- [ ] 测试文件准备好
- [ ] 浏览器缓存已清空
- [ ] 网络连接稳定
- [ ] 录制设备测试完成
- [ ] 演示脚本熟悉

演示中注意：
- [ ] 操作流畅自然
- [ ] 解释清晰明了
- [ ] 突出关键功能
- [ ] 展示错误处理
- [ ] 控制演示时间

演示后检查：
- [ ] 所有功能都展示了
- [ ] 视频质量良好
- [ ] 音频清晰
- [ ] 字幕准确
- [ ] 时长合适

---

## 🚀 开始演示

准备好了吗？让我们开始展示这个强大的文件上传功能！

